objc_library(
    name = "kscrash_mini",
    defines = [
        "KSCRASH_NAMESPACE=_bitdrift",
        ],
    includes = [
        "Sources/KSCrashCore/include",
        "Sources/KSCrashRecording/include",
        "Sources/KSCrashRecording/Monitors",
        "Sources/KSCrashRecordingCore/include",
        ],
    srcs = [
        "Sources/KSCrashRecording/KSThreadCache.c",
        "Sources/KSCrashRecording/Monitors/KSCrashMonitor_CPPException.cpp",
        "Sources/KSCrashRecording/Monitors/KSCrashMonitor_MachException.c",
        "Sources/KSCrashRecording/Monitors/KSCrashMonitor_NSException.m",
        "Sources/KSCrashRecording/Monitors/KSCrashMonitor_Signal.c",
        "Sources/KSCrashRecordingCore/KSBinaryImageCache.c",
        "Sources/KSCrashRecordingCore/KSCPU.c",
        "Sources/KSCrashRecordingCore/KSCPU_arm.c",
        "Sources/KSCrashRecordingCore/KSCPU_arm64.c",
        "Sources/KSCrashRecordingCore/KSCPU_x86_32.c",
        "Sources/KSCrashRecordingCore/KSCPU_x86_64.c",
        "Sources/KSCrashRecordingCore/KSCrashMonitor.c",
        "Sources/KSCrashRecordingCore/KSCxaThrowSwapper.c",
        "Sources/KSCrashRecordingCore/KSDebug.c",
        "Sources/KSCrashRecordingCore/KSDynamicLinker.c",
        "Sources/KSCrashRecordingCore/KSFileUtils.c",
        "Sources/KSCrashRecordingCore/KSID.c",
        "Sources/KSCrashRecordingCore/KSLogger.c",
        "Sources/KSCrashRecordingCore/KSMach-O.c",
        "Sources/KSCrashRecordingCore/KSMachineContext.c",
        "Sources/KSCrashRecordingCore/KSMemory.c",
        "Sources/KSCrashRecordingCore/KSSignalInfo.c",
        "Sources/KSCrashRecordingCore/KSStackCursor.c",
        "Sources/KSCrashRecordingCore/KSStackCursor_Backtrace.c",
        "Sources/KSCrashRecordingCore/KSStackCursor_MachineContext.c",
        "Sources/KSCrashRecordingCore/KSStackCursor_SelfThread.c",
        "Sources/KSCrashRecordingCore/KSString.c",
        "Sources/KSCrashRecordingCore/KSSymbolicator.c",
        "Sources/KSCrashRecordingCore/KSThread.c",
        ],
    visibility = ["//visibility:public"],
)
